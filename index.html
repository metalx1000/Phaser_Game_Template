<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>My Game</title>
        <script src="js/phaser.js"></script>
        <style>
            canvas, html, body {
                margin:0;
                margin-left: auto;
                margin-right: auto;
                display: block;
                background-color: black;

                height: 100%;
                vertical-align: middle;
            }
        </style>

    </head>
    <body>
        <script>
                var height = 720;
                var width = 1280;
                var text;


                var game = new Phaser.Game(height, width, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });

                function preload() {
                    //Load Animation                    
                    game.load.spritesheet('load_ani', 'res/load_ani.png', 64, 64);

                }

                function create() {

                    game.stage.backgroundColor = 'white';
                    text = game.add.text(32, 32, 'Click to start load', { fill: '#ffffff' });
                    //  You can listen for each of these events from Phaser.Loader
                    game.load.onLoadStart.add(loadStart, this);
                    game.load.onFileComplete.add(fileComplete, this);
                    game.load.onLoadComplete.add(loadComplete, this);

                    //Load Animation                    
                    load_icon = game.add.sprite(width * 0.5, game.world.height * 0.5, 'load_ani');
                    load_icon.anchor.setTo(.5,.5);
                    load_icon.animations.add('load');
                    load_icon.animations.play('load', 10, true);

                    start();


                    //  Just to kick things off
                    //button = game.add.button(game.world.centerX - 95, 400, 'button', start, this, 2, 1, 0);

                    //  Progress report

                }

                function update(){

                }

                function start() {
                    //This is where you put thing that are going to load durning load screen
                    game.load.image('picture3', 'http://i3.ytimg.com/vi/KvJqlwEQeBg/hqdefault.jpg');

                    game.load.start();


                }

                function loadStart() {

                    text.setText("Loading ...");

                }

                //  This callback is sent the following parameters:
                function fileComplete(progress, cacheKey, success, totalLoaded, totalFiles) {

                    text.setText("File Complete: " + progress + "% - " + totalLoaded + " out of " + totalFiles);


                }

                function loadComplete() {

                    text.setText("Load Complete");

                }
        </script>
    </body>
</html>
